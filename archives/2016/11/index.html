<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Archives: 2016/11 | Joe&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="Joe's Blog">
<meta property="og:url" content="http://missall.github.io/archives/2016/11/">
<meta property="og:site_name" content="Joe's Blog">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Joe's Blog">
<meta name="twitter:description">

  
    <link rel="alternative" href="/atom.xml" title="Joe&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">

  

  <script src="http://libs.baidu.com/jquery/1.9.0/jquery.js"></script>
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<div class="profilepic">
			<img src="https://avatars1.githubusercontent.com/u/138682?v=3&amp;s=140">
		</div>

		<hgroup>
		  <h1 class="header-author"><a href="/">Joe</a></h1>
		</hgroup>

		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>标签</li>
						
						
						<li>关于我</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">全部</a></li>
				        
							<li><a href="/categories/编程">编程</a></li>
				        
							<li><a href="/categories/生活">生活</a></li>
				        
							<li><a href="/categories/其他">其他</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="http://github/com/missall" title="github">github</a>
					        
								<a class="weibo" target="_blank" href="http://weibo.com/missall" title="weibo">weibo</a>
					        
								<a class="rss" target="_blank" href="/#" title="rss">rss</a>
					        
								<a class="facebook" target="_blank" href="/#" title="facebook">facebook</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud">
						<a href="/tags/Vim/" style="font-size: NaNpx;">Vim</a><a href="/tags/Virtualbox/" style="font-size: NaNpx;">Virtualbox</a><a href="/tags/docker/" style="font-size: NaNpx;">docker</a><a href="/tags/httpProxy/" style="font-size: NaNpx;">httpProxy</a><a href="/tags/mac/" style="font-size: NaNpx;">mac</a><a href="/tags/tinyProxy/" style="font-size: NaNpx;">tinyProxy</a><a href="/tags/ubuntu/" style="font-size: NaNpx;">ubuntu</a><a href="/tags/攻略/" style="font-size: NaNpx;">攻略</a>
					</div>
				</section>
				
				
				

				
				
				<section class="switch-part switch-part3">
				
					我是谁，我从哪里来，我到哪里去？我就是我，是颜色不一样的吃货…
				</section>
				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay"></div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img src="https://avatars1.githubusercontent.com/u/138682?v=3&amp;s=140">
			</div>

			<hgroup>
			  <h1 class="header-author"><a href="/">Joe</a></h1>
			</hgroup>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">全部</a></li>
		        
					<li><a href="/categories/编程">编程</a></li>
		        
					<li><a href="/categories/生活">生活</a></li>
		        
					<li><a href="/categories/其他">其他</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="http://github/com/missall" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="http://weibo.com/missall" title="weibo">weibo</a>
			        
						<a class="rss" target="_blank" href="/#" title="rss">rss</a>
			        
						<a class="facebook" target="_blank" href="/#" title="facebook">facebook</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>
      
  
    <article id="post-vim-better" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/11/18/vim-better/" class="article-date">
  	<time datetime="2016-11-18T05:50:00.000Z" itemprop="datePublished">11月 18 2016</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/编程/">编程</a>
  </div>

      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Vim/">Vim</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/攻略/">攻略</a></li></ul>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/11/18/vim-better/">Vim修炼攻略</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="前言">前言</h1>
<p>断断续续使用Vim也有8-9年的历史了，基本限于常用的命令，最近看到一篇关于Vim使用进阶攻略，共鸣点挺多。<br>它将Vim使用划分为4个级别，目前自己能熟练运用前面三个级别，努力培养使用第四级。</p>
<p>Vim的学习曲线相当的大，如果你一开始看到的是一大堆Vim命令，总感觉无从下手，一定会对这个神器失去兴趣的。<br>翻译的这篇文章<a href="http://yannesposito.com/Scratch/en/blog/Learn-Vim-Progressively/" target="_blank" rel="external">《Learn Vim Progressively》</a>我觉得是给新手最好的Vim进阶教程了，没有列举所有的命令，只是列举了<br>那些最有用的命令。非常爽。</p>
<blockquote>
<p>Better, Stronger, Faster</p>
</blockquote>
<h1 id="正文">正文</h1>
<p>你想尽快地学习人类历史上最好的编辑器Vim吗？这是我学习的方法：从细微处入手然后慢慢掌握所有技巧。</p>
<blockquote>
<p>Vim 六十亿美元的编辑器<br>设计优良，强壮，快速。</p>
</blockquote>
<p>学习vim并把它作为你的下一个文本编辑器，据我所知没有比它更好的编辑器，学起来难但出奇的好用。</p>
<p>我建议你按下附4个步骤学习Vim：</p>
<ol>
<li>适应</li>
<li>感觉良好</li>
<li>感觉很好，强壮，快速</li>
<li>使用vim的高级技能</li>
</ol>
<p>本课程结束时你将成为一个vim高手，但在我们开始之前，先提醒一下：</p>
<blockquote>
<p>刚开始学习vim会有点痛苦<br>它很费时间，有点像玩乐器一样<br>不要指望能像其他编辑器一样花3天以内的时间便能很好的使用它<br>事实上，这肯定要花2周而不是3天的时间。</p>
</blockquote>
<h2 id="第一级_适应">第一级 适应</h2>
<ol>
<li>安装vim</li>
<li>运行vim</li>
<li>什么也别做，读！</li>
</ol>
<p>在标准的编辑器里，写一些东西到屏幕上只需要在键盘上输入就足够了，在Vim中不是这样。请按照下面的命令操作：</p>
<blockquote>
<p>启动Vim后，Vim在普通模式<code>Normal</code>下，<br>让我们转到插入模式，键入字符<code>i</code>。<br>这时你可以在编辑器里输入文本了。<br>如果你想回到普通模式，只需按<code>ESC</code>键即可。</p>
</blockquote>
<p>你现在知道了如何在插入和普通模式之间转换，下面是你在普通模式下需要记住的指令：</p>
<blockquote>
<p><code>i</code> → 插入模式. 按<code>ESC</code>键返回普通模式<br><code>x</code> → 删除光标所在的字符<br><code>:wq</code> → 保存退出(<code>:w</code> 保存，<code>:q</code> 退出)<br><code>dd</code> → 删除(拷贝)当前行</p>
</blockquote>
<p><strong>强烈推荐：</strong></p>
<blockquote>
<p><code>hjkl(强烈推荐使用其移动光标)</code>  → 基本的光标移动 <code>(←↓↑→)</code>， <code>hj</code>按行移动。<br><code>:help &lt;command&gt;</code> → 显示关于<code>&lt;command&gt;</code>的帮助，可以使用help不带<code>&lt;command&gt;</code>获得常规帮助。</p>
</blockquote>
<p>只有5个命令，一开始只需掌握这些，当适应了这些命令后（大概需要一天或更多的时间），你可以转到第二层级了。<br>但首先，稍回顾一下普通模式。在标准编辑器里，要复制的话你需要使用ctrl键(<em>Ctrl-c</em>)。实际上，当你按下ctrl键时所有的按键的意义都改变了。在vim普通模式下就像在ctrl键自动按下的情况下使用编辑器。</p>
<p><strong>最后的补充：</strong><br>我使用<code>&lt;C-λ&gt;</code>代替<code>Ctrl-λ</code><br>命令后附带回车，比如我若是写<code>:q</code>，我是指<code>:q&lt;enter&gt;</code></p>
<h2 id="第二级_感觉良好">第二级 感觉良好</h2>
<p>你懂的，命令是由需求所定。是时候学习更多命令了。下面这些是我的建议：<br><strong>插入模式变种命令</strong></p>
<blockquote>
<p><code>a</code> → 在光标后插入<br><code>o</code> → 在当前行之后插入新行<br><code>O</code> → 在当前行之前插入新行<br><code>cw</code> → 替换从光标到单词结束<br><strong>基本移动命令</strong><br><code>0</code> → 跳到第一列<br><code>^</code> → 跳到本行第一个非空字符<br><code>$</code> → 跳到本行末尾<br><code>g_</code> → 跳到本行最后一个非空字符<br><code>/pattern</code> → 搜索pattern<br><strong>复制/粘贴</strong><br><code>P</code> → 在当前位置之前粘贴，记住 p 是在当前位置之前粘贴.<br><code>yy</code> → 复制当前行，与dd和P命令相比更简单。<br><strong>取消/恢复</strong><br><code>&lt;C-r&gt;</code>→ 恢复<br><strong>加载/保存/退出/修改 文件(缓存)</strong><br><code>:e &lt;文件路径&gt;</code> → 打开<br><code>:w</code> → 保存<br><code>:saveas &lt;文件路径&gt;</code> → 保存到这个文件<br><code>:x,ZZ或者:wq</code> → 保存和退出 (:x 如果可能的话，只保存)<br><code>:q!</code> → 退出但不保存，使用:qa!，即使在缓存中还有已经修改的也会退出。<br><code>:bn(对比:bp)</code> → 显示下一个(上一个)文件缓存</p>
</blockquote>
<p>花些时间学习所有这些命令。一旦完成后，你应该就能完成在像在其它编辑器中所有事情。也许，你可能还会觉得有点笨手笨脚。但是跟着我进入下一个层次，你就会发现为什么vim值得你额外付出的努力。</p>
<h2 id="第三级_更好，更强，更快">第三级 更好，更强，更快</h2>
<p>恭喜进入第三级！现在我们开始一些有趣的事。在第三级中，我们只谈论那些和vi编辑器兼容的命令</p>
<p><strong>更好</strong></p>
<p>让我们看看vim是如何帮助我们做重复工作的:</p>
<blockquote>
<p><code>.</code> → (点)会重做最后一个命令,<br><code>N&lt;命令&gt;</code> → 会重做这个命令N次.</p>
</blockquote>
<p>一些例子，打开文件然后输入:</p>
<blockquote>
<p><code>2dd</code> → 会删除2行<br><code>3p</code> → 会粘贴文本3次<br><code>100idesu [ESC]</code> → 会写入“desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu”<br><code>.</code> → 在最后一个命令之后会在此写入100个”desu”.<br><code>3.</code> → 会写入3个“desu”(并不是300个, 聪明极了).</p>
</blockquote>
<p><strong>更强</strong><br>掌握高效率使用vim是十分重要的。请不要跳过这节。</p>
<blockquote>
<p><code>NG</code> → 跳到第N行<br><code>gg</code> → 是1G的快捷方式 - 跳到文件的开始<br><code>G</code> → 跳到最后一行<br>单词间移动:</p>
<blockquote>
<p><code>w</code> → 跳到下一个单词的开头,<br><code>e</code> → 跳到这个单词的末尾.<br>默认，单词是有字母和下划线组成。这里我们所谓的单词就是由空格分隔的。如果你只想考虑单词，就使用大写的字符吧:<br><code>W</code> → 跳到下一个单词的开头,<br><code>E</code> → 跳到这个单词的末尾.<br><img src="http://static.oschina.net/uploads/img/201308/19135039_AdpL.jpg" alt="img"></p>
</blockquote>
</blockquote>
<p>现在，我们谈论最高效率的光标移动：</p>
<blockquote>
<p><code>%</code> → 匹配括号移动，包括(, (, [.<br><code>*</code>和<code>#</code> → 跳到当前光标的下一个(上一个) 相同单词的地方</p>
</blockquote>
<p>信我，最后3个命令价比黄金。</p>
<p><strong>更快</strong><br>大多数命令使用下面这种通用格式：</p>
<blockquote>
<p>&lt;开始位置&gt;&lt;命令&gt;&lt;结束位置&gt;</p>
</blockquote>
<p>例如： <code>0y$</code>意味着</p>
<blockquote>
<p><code>0</code> → 跳到本行开头<br><code>y</code> → 从这里开始复制<br><code>$</code> → 直到本行结束</p>
</blockquote>
<p>我们也可以使用<code>ye</code>，从当前位置复制到单词的末尾。但是<code>y2/foo</code> 会一直复制到第二个foo出现的地方。<br>但对于<code>y</code>（复制）， <code>d</code>(删除), <code>v</code>(visual 选择)， <code>gU</code>(大写)， <code>gu</code>(小写)等等命令都是真实的。</p>
<h2 id="第四级_高级技能">第四级 高级技能</h2>
<p>使用上述的命令，是否觉得很爽了。但是现在，这里才是杀手锏。正因为其中有些特性，我才使用vim的。</p>
<p><strong>在当前行移动:0^$g_fFtT,;</strong></p>
<blockquote>
<p><code>0</code> → 跳到第一列<br><code>^</code> → 跳到当前行的第一个字符<br><code>$</code> → 跳到最后一列<br><code>g_</code> → 跳到这行的最后一个字符<br><code>fa</code> → 跳到这行a字母的下一个出现的地方。（对比 ; ）会查找下一个（上一个）地方<br><code>t,</code> → 跳到，字符的前一个字符.<br><code>3fa</code> → 在这行中查找a出现的第三个位置.<br><code>F和T</code> → 与f和t相似， 但是方向相反.<br><img src="http://static.oschina.net/uploads/img/201308/19135039_vFzT.jpg" alt="img"></p>
</blockquote>
<p><em>还有一个有用的命令是：<code>dt&quot;</code>→删除所有的的内容，直到遇到双引号<code>”</code>。</em></p>
<p><strong>区域选择 ：</strong></p>
<blockquote>
<p>&lt;命令&gt;a&lt;对象&gt; 或 &lt;命令&gt;i&lt;对象&gt;</p>
</blockquote>
<p>在可视化模式下。这些命令相当的有用。命令格式为：</p>
<blockquote>
<p>&lt;命令&gt;a&lt;对象&gt; 和 &lt;命令&gt;i&lt;对象&gt;</p>
<blockquote>
<p>命令可以是任何命令，例如 , <code>d</code>(删除),<code>y</code>(拉取),<code>v</code>(进入可视化模式)。<br>对象可以是: <code>w</code>一个单词，<code>W</code>一个单词 (扩展的)，<code>s</code>一个句子，<code>p</code>一个段落。而且也可以是普通的字符， 例如<code>&quot;，&#39;，)，}，]</code>。</p>
</blockquote>
</blockquote>
<p>假设现在光标在 (map (+) (“foo”)) 这个字符串的第一个o上。</p>
<blockquote>
<p><code>vi&quot;</code> → 将会选择 foo<br><code>va&quot;</code> → “foo”<br><code>vi)</code> → “foo”<br><code>va)</code> → (“foo”)<br><code>v2i)</code> → map (+) (“foo”)<br><code>v2a)</code> → (map (+) (“foo”))<br><img src="http://static.oschina.net/uploads/img/201308/19135040_FZZt.png" alt="img"></p>
</blockquote>
<p><strong>块操作:<c-v></c-v></strong></p>
<p>矩形选择块能够方便的对多行代码进行注释， 如<code>:0&lt;C-v&gt;&lt;C-d&gt;I-- [ESC]</code></p>
<blockquote>
<p><code>^</code> → 将光标定位到这行第一个非空格字符<br><code>&lt;C-v&gt;</code> → 选择开始位置<br><code>&lt;C-d&gt;</code> → 向下移动 (也可使用 jjj 或者 % ， 其他…)<br><code>I-- [ESC]</code> → 用 — 来注释每一行<br><img src="http://static.oschina.net/uploads/img/201308/19135040_1Cyy.gif" alt="img"></p>
</blockquote>
<p><em>提示：如果你的剪贴板在Windows中是非空的话，那么你就不得不使用<c-q>来代替<c-v>。</c-v></c-q></em></p>
<p><strong>自动提示:<code>&lt;C-n&gt;</code>和<code>&lt;C-p&gt;</code></strong></p>
<p>在插入模式中：只要打出单词的首字母，然后按<c-p>，神奇的事情就发生了…<br><img src="http://static.oschina.net/uploads/img/201308/19135042_T1fu.gif" alt="img"></c-p></p>
<p><strong>宏命令 : qa 做的一些事,@a,@@</strong></p>
<blockquote>
<p><code>qa</code>把你的动作记录在了寄存器<code>a</code>中。<br>然后<code>@a</code>就会将存在寄存器中的动作重现，就好像你从新打了一边。<br><code>@@</code>是将你最后一次执行的宏命令再次执行的快捷键。</p>
</blockquote>
<p><strong>示例</strong><br>在只有数字1的一行上， 像这样键入命令:</p>
<blockquote>
<p><code>qaYp&lt;C-a&gt;q</code> →</p>
<blockquote>
<p><code>qa</code>开始记录。<br><code>Yp</code>记录这一行。<br><code>&lt;C-a&gt;</code>增加数字大小。<br><code>q</code>停止记录。<br><code>@a</code> → 在1下面写2<br><code>@@</code> → 在2下面写3<br>现在键入<code>100@@</code>就将会产生一个到103的自增列。<br><img src="http://static.oschina.net/uploads/img/201308/19135042_jJUW.gif" alt="img"></p>
</blockquote>
</blockquote>
<p><strong>可视化模式选择： v, V, <code>&lt;C-v&gt;</code></strong></p>
<p>我们已经看到过<c-v>例子，这里还有v和V。一旦已经选择好了，你可以：</c-v></p>
<blockquote>
<p><code>J</code> → 让所有行连接在一起<br><code>&lt;(对比&gt;)</code>  → 向左（右）对齐.<br><code>=</code> → 自动对齐<br><img src="http://static.oschina.net/uploads/img/201308/19135043_Npsr.gif" alt="img"></p>
</blockquote>
<p>在可视化模式所选择的行的末尾添加一些东西：</p>
<blockquote>
<p><code>&lt;C-v&gt;</code><br>跳到目的行 (<code>jjj</code>或者 <code>&lt;C-d&gt;</code>或者 <code>/patternor</code>或者<code>%</code>等等…)<br>$跳到行末尾<br><code>A</code>, 写入一些文本，[按] <code>ESC</code>键.<br><img src="http://static.oschina.net/uploads/img/201308/19135046_NfIl.gif" alt="img"></p>
</blockquote>
<p><strong>分割：split和vsplit</strong></p>
<p>这些是很重要的命令，所以你应该在:help split看看。</p>
<blockquote>
<p><code>:split</code> → 创建一个水平分割窗口t (:vsplit 创建一个竖直分割窗口)<br><code>&lt;C-w&gt;&lt;dir&gt;</code>:  dir是<code>hjklor←↓↑→</code>中任何一个。用来切换分割窗口。<br><code>&lt;C-w&gt;_</code>(对比<code>&lt;C-w&gt;|</code>) : 用来最大化水平（竖直）分割窗口的大小<br><code>&lt;C-w&gt;+</code>(对比<code>&lt;C-w&gt;-</code>) : 增加 (减小) 分割窗口<br><img src="http://static.oschina.net/uploads/img/201308/19135046_ivZR.gif" alt="img"></p>
</blockquote>
<h1 id="小结">小结</h1>
<p>这些是我经常使用的90%的命令。我建议你每天学习一到两个命令。在两到三周之后，你将会感觉到vim在你手上使用的是如此的强大。</p>
<p>学习vim更多的是记忆训练。值得高兴的是vim诞生了一些非常好的工具和优秀的文档。当你非常熟悉大部分基本命令之后就可以使用vimtutor了。另外，你应该仔细的阅读这页 ::help usr_02.txt.</p>
<p>然后，你要去学习了解寄存器，插件已经其它的功能。学习vim就像学钢琴一样，所有的都要掌握好。</p>
<h1 id="相关链接">相关链接</h1>
<p><a href="http://www.vim.org/" target="_blank" rel="external">vim</a><br><a href="http://yannesposito.com/Scratch/en/blog/Learn-Vim-Progressively/" target="_blank" rel="external">Learn Vim Progressively</a></p>

      
    </div>
    <footer class="article-footer">
      
      
    </footer>
  </div>
  
</article>






  
  

      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2016 Joe
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">

  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>

  <script src="/js/main.js" type="text/javascript"></script>


  </div>
</body>
</html>